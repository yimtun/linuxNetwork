> http://www.zsythink.net/archives/2450



ssh 隧道 1 加密数据 2 绕过防火墙等限制

### 本地转发

A 10.1.0.1   
B 10.1.0.2   mysql server 3306 port 


A 上执行
ssh -L 9906:10.1.0.1:3306 root@10.1.0.2


-f 后台运行 ssh 隧道
-N 创建隧道时 并不会打开远程shell 连接到目标主机

ssh -f -N -L 9906:10.1.0.1:3306 root@10.1.0.2

指定本地监听地址


ssh -f -N -L 10.1.0.1:9906:10.1.0.1:3306 root@10.1.0.2



-g 网关模式监听本地所有地址

ssh -g -f -N -L 9906:10.1.0.1:3306 root@10.1.0.2


### 远程转发 -R 





-----------------------

> https://blog.51cto.com/ilanni/1696162



> https://www.cnblogs.com/williamjie/p/9684684.html


高级用法

> https://www.jianshu.com/p/f6990f3a52eb

#### 实际应用


##### 通过 192.168.94.130  23 端口  ssh 连接到172.16.101.32:22

在192.168.94.130上执行如下命令
访问 192.168.94.130的23端口即可访问到172.16.101.32的22端口 执行端口转发的服务器是 192.168.94.130


```
ssh -f -N -L 192.168.94.130:23:172.16.101.32:22 root@127.0.0.1
```



###### sockets5 192.168.94.130 可以接入vpn 连接 私有git仓库  通过192.168.94.130 访问 git

```
ssh -f -N -D  192.168.94.130:7070 root@127.0.0.1
```

测试

```
curl --socks5 192.168.94.130:7070  http://www.baidu.com
```


git 设置并git pull 测试

```
git config --global http.proxy 'socks5://192.168.94.130:7070'
```


